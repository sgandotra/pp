// Load modules

var Fs = require('fs');
var Path = require('path');
var Handlebars = require('handlebars');


// Declare internals

var internals = {};


exports = module.exports = internals.Reporter = function (options) {

    this.settings = options;

    var filename = Path.join(__dirname, 'html', 'report.html');
    var template = Fs.readFileSync(filename, 'utf8');
    this.view = Handlebars.compile(template);

    Handlebars.registerHelper('hits', function (hits) {

        return (hits === undefined 